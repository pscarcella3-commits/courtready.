<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CourtReady Elite</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <style>
        :root { --neon: #d4ff00; --bg: #000; --card: #121212; }
        body, html { margin: 0; padding: 0; background: var(--bg); color: white; font-family: -apple-system, sans-serif; height: 100vh; overflow: hidden; }
        
        .view { display: none; height: 100vh; flex-direction: column; overflow-y: auto; padding-bottom: 120px; }
        .view.active { display: flex; }

        /* Logo Custom SVG */
        .logo-box { display: flex; align-items: center; gap: 12px; padding: 50px 25px 20px; }
        .court-icon { width: 32px; height: 24px; border: 2px solid var(--neon); position: relative; border-radius: 2px; }
        .court-icon::after { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 2px; background: var(--neon); }

        /* UI Elements */
        .hero { margin: 20px; padding: 30px; background: linear-gradient(145deg, #1a1a1a, #000); border-radius: 30px; border: 1px solid #222; }
        .btn-neon { background: var(--neon); color: #000; border: none; padding: 18px; border-radius: 15px; font-weight: 900; width: 100%; text-transform: uppercase; margin-top: 15px; }
        
        /* Mind Gym Game */
        #target { width: 80px; height: 80px; background: var(--neon); border-radius: 50%; position: absolute; display: none; box-shadow: 0 0 30px var(--neon); }

        /* NavBar */
        .nav-bar { position: fixed; bottom: 30px; left: 20px; right: 20px; height: 75px; background: rgba(15,15,15,0.95); backdrop-filter: blur(20px); border-radius: 25px; display: flex; justify-content: space-around; align-items: center; border: 1px solid rgba(255,255,255,0.1); }
        .nav-item { color: #444; display: flex; flex-direction: column; align-items: center; font-size: 10px; font-weight: 700; }
        .nav-item.active { color: var(--neon); }
    </style>
</head>
<body>

    <div id="home" class="view active">
        <div class="logo-box">
            <div class="court-icon"></div>
            <div style="font-weight: 900; font-style: italic; font-size: 20px;">COURT<span style="color:var(--neon)">READY</span></div>
        </div>
        <div class="hero">
            <small style="color:#666; letter-spacing:2px;">NEURO-SCORE</small>
            <div style="font-size: 54px; font-weight: 900;" id="score-display">--</div>
            <p style="color:var(--neon); font-size: 12px; font-weight: 800;">READY TO TRAIN</p>
        </div>
        <div style="padding: 20px;">
            <button class="btn-neon" onclick="showView('mind')">Inizia Mind Gym</button>
        </div>
    </div>

    <div id="mind" class="view" style="background: #000; justify-content: center; align-items: center;">
        <div id="mind-intro" style="text-align: center; padding: 20px;">
            <i data-lucide="brain" size="48" color="var(--neon)"></i>
            <h2>MIND GYM</h2>
            <p style="color:#666">Tocca il bersaglio neon il più velocemente possibile quando appare.</p>
            <button class="btn-neon" onclick="startMindGame()">START TEST</button>
        </div>
        <div id="target" onclick="hitTarget()"></div>
        <div id="reaction-result" style="display:none; text-align:center;">
            <h1 id="ms-res" style="color:var(--neon); font-size: 48px;"></h1>
            <p>Velocità di reazione media</p>
            <button class="btn-neon" onclick="showView('home')">TORNA ALLA DASHBOARD</button>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" onclick="showView('home', this)"><i data-lucide="home"></i><span>HOME</span></div>
        <div class="nav-item" onclick="showView('train', this)"><i data-lucide="zap"></i><span>TRAIN</span></div>
        <div class="nav-item" onclick="showView('mind', this)"><i data-lucide="target"></i><span>MIND</span></div>
        <div class="nav-item"><i data-lucide="bar-chart-3"></i><span>STATS</span></div>
    </div>

    <script>
        lucide.createIcons();

        // Variabili Game
        let startTime, reactionTimes = [];
        let hits = 0;

        function showView(id, el) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(el) {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                el.classList.add('active');
            }
        }

        // Logica Mind Gym
        function startMindGame() {
            document.getElementById('mind-intro').style.display = 'none';
            document.getElementById('reaction-result').style.display = 'none';
            hits = 0;
            reactionTimes = [];
            spawnTarget();
        }

        function spawnTarget() {
            const t = document.getElementById('target');
            const x = Math.random() * (window.innerWidth - 100) + 10;
            const y = Math.random() * (window.innerHeight - 200) + 50;
            t.style.left = x + 'px';
            t.style.top = y + 'px';
            setTimeout(() => {
                t.style.display = 'block';
                startTime = Date.now();
            }, Math.random() * 2000 + 500);
        }

        function hitTarget() {
            const diff = Date.now() - startTime;
            reactionTimes.push(diff);
            document.getElementById('target').style.display = 'none';
            hits++;
            if(hits < 5) {
                spawnTarget();
            } else {
                endGame();
            }
        }

        function endGame() {
            const avg = Math.round(reactionTimes.reduce((a,b) => a+b) / 5);
            document.getElementById('ms-res').innerText = avg + "ms";
            document.getElementById('reaction-result').style.display = 'block';
            document.getElementById('score-display').innerText = Math.round(1000 - avg) / 10;
            speak("Test completato. La tua reazione è di " + avg + " millisecondi.");
        }

        function speak(text) {
            const m = new SpeechSynthesisUtterance(text);
            m.lang = 'it-IT';
            window.speechSynthesis.speak(m);
        }
    </script>
</body>
</html>
