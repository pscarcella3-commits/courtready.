<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CourtReady Elite</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <style>
        :root { --neon: #d4ff00; --bg: #000000; --card: #121212; --glass: rgba(255,255,255,0.05); }
        body, html { margin: 0; padding: 0; background-color: var(--bg); color: white; font-family: -apple-system, system-ui, sans-serif; height: 100vh; overflow: hidden; }
        
        /* Navigazione Viste */
        .view { display: none; height: 100vh; flex-direction: column; padding-bottom: 100px; overflow-y: auto; }
        .view.active { display: flex; }

        /* Onboarding */
        #onboarding { position: fixed; inset: 0; background: var(--bg); z-index: 10000; display: flex; align-items: center; justify-content: center; padding: 30px; transition: 0.8s cubic-bezier(0.8,0,0.2,1); }
        .step { display: none; text-align: center; width: 100%; }
        .step.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity:0; transform: translateY(20px); } to { opacity:1; transform: translateY(0); } }

        /* Elementi Grafici */
        .logo-container { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; justify-content: center; }
        .logo-icon { width: 40px; height: 40px; background: var(--neon); clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%); border-radius: 4px; }
        
        .btn-neon { background: var(--neon); color: black; border: none; padding: 20px; width: 100%; border-radius: 20px; font-weight: 900; font-size: 16px; text-transform: uppercase; letter-spacing: 1px; margin-top: 20px; }
        .btn-opt { background: var(--card); border: 1px solid #333; color: white; padding: 20px; width: 100%; border-radius: 18px; margin-bottom: 12px; font-size: 16px; font-weight: 600; }

        /* Workout Player */
        .stage { background: radial-gradient(circle, #1a1a1a 0%, #000 100%); height: 300px; border-radius: 30px; margin: 20px; position: relative; display: flex; align-items: center; justify-content: center; border: 1px solid #222; overflow: hidden; }
        #mannequin-container { width: 200px; height: 200px; }
        
        /* NavBar */
        .nav-bar { position: fixed; bottom: 30px; left: 20px; right: 20px; height: 75px; background: rgba(15,15,15,0.9); backdrop-filter: blur(20px); border-radius: 25px; display: flex; justify-content: space-around; align-items: center; border: 1px solid var(--glass); z-index: 999; }
        .nav-item { color: #444; display: flex; flex-direction: column; align-items: center; font-size: 10px; font-weight: 700; transition: 0.3s; }
        .nav-item.active { color: var(--neon); }

        .score-big { font-size: 64px; font-weight: 900; letter-spacing: -3px; margin: 10px 0; }
    </style>
</head>
<body>

    <div id="onboarding">
        <div id="step1" class="step active">
            <div class="logo-container">
                <div class="logo-icon"></div>
                <div style="font-size: 28px; font-weight: 900; font-style: italic;">COURT<span style="color:var(--neon)">READY</span></div>
            </div>
            <p style="color: #666;">Preparati alla massima performance.</p>
            <button class="btn-neon" onclick="nextStep(1, 2)">INIZIA</button>
        </div>
        <div id="step2" class="step">
            <h2 style="font-size: 28px;">Livello di gioco?</h2>
            <button class="btn-opt" onclick="finishOB()">Agonista / Pro</button>
            <button class="btn-opt" onclick="finishOB()">Amatoriale</button>
        </div>
    </div>

    <div id="home" class="view active">
        <div style="padding: 50px 25px 20px;">
            <div style="font-weight: 900; font-style: italic;">COURT<span style="color:var(--neon)">READY</span></div>
        </div>
        <div style="margin: 20px; padding: 30px; background: linear-gradient(145deg, #111, #000); border-radius: 35px; border: 1px solid #222;">
            <span style="color:#666; font-size: 12px; font-weight: 800; letter-spacing: 2px;">CONDITIONING SCORE</span>
            <div class="score-big">84<span style="color:var(--neon); font-size: 24px;">.2</span></div>
            <div style="display: flex; gap: 10px; align-items: center; color: var(--neon); font-size: 12px; font-weight: 700;">
                <i data-lucide="trending-up" size="16"></i> +2.4% QUESTA SETTIMANA
            </div>
        </div>
        <div style="padding: 0 25px;">
            <p style="color: #444; font-size: 11px; font-weight: 900; text-transform: uppercase;">Consigliato per te</p>
            <div style="background: var(--card); padding: 20px; border-radius: 25px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #1a1a1a;" onclick="showView('train')">
                <div>
                    <div style="font-weight: 800; font-size: 18px;">Power Agility</div>
                    <div style="color: #555; font-size: 12px;">15 min • Intensità Alta</div>
                </div>
                <div style="background: var(--neon); width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black;">
                    <i data-lucide="play" fill="black"></i>
                </div>
            </div>
        </div>
    </div>

    <div id="train" class="view">
        <div style="padding: 50px 25px 0; text-align: center;">
            <h2 id="ex-name" style="margin: 0; font-size: 28px; font-weight: 900;">SPLIT STEP</h2>
            <span style="color: var(--neon); font-weight: 800; font-size: 12px; letter-spacing: 2px;">REAZIONE RAPIDA</span>
        </div>
        <div class="stage">
            <div id="mannequin-container"></div>
            <div style="position: absolute; bottom: 20px; right: 20px; background: rgba(0,0,0,0.5); padding: 5px 10px; border-radius: 10px; border: 1px solid var(--neon); color: var(--neon); font-size: 10px; font-weight: 900;">AI RENDER</div>
        </div>
        <div style="text-align: center;">
            <div style="font-size: 80px; font-weight: 900; font-variant-numeric: tabular-nums;" id="timer">20</div>
            <button id="start-btn" class="btn-neon" style="width: 200px;" onclick="startTimer()">AVVIA SESSIONE</button>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" onclick="showView('home', this)"><i data-lucide="home"></i><span>HOME</span></div>
        <div class="nav-item" onclick="showView('train', this)"><i data-lucide="zap"></i><span>TRAIN</span></div>
        <div class="nav-item"><i data-lucide="target"></i><span>MIND</span></div>
        <div class="nav-item"><i data-lucide="user"></i><span>STATS</span></div>
    </div>

    <script>
        lucide.createIcons();

        // Caricamento Animazione Manichino (Lottie)
        const animation = lottie.loadAnimation({
            container: document.getElementById('mannequin-container'),
            renderer: 'svg',
            loop: true,
            autoplay: false,
            path: 'https://assets5.lottiefiles.com/packages/lf20_96bovdur.json' // Animazione di un omino che corre/si muove
        });

        function nextStep(c, n) {
            document.getElementById('step'+c).classList.remove('active');
            document.getElementById('step'+n).classList.add('active');
        }

        function finishOB() {
            document.getElementById('onboarding').style.transform = 'scale(1.5)';
            document.getElementById('onboarding').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('onboarding').style.display = 'none';
                speak("Profilo configurato. Benvenuto Coach.");
            }, 800);
        }

        function showView(id, el) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(el) {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                el.classList.add('active');
            }
        }

        function startTimer() {
            let t = 20;
            document.getElementById('start-btn').style.display = 'none';
            animation.play();
            speak("Via! Mantieni il ritmo.");
            const inv = setInterval(() => {
                t--;
                document.getElementById('timer').innerText = t;
                if(t <= 0) {
                    clearInterval(inv);
                    animation.pause();
                    speak("Ottimo lavoro. Riposo.");
                    document.getElementById('start-btn').style.display = 'inline-block';
                    document.getElementById('timer').innerText = "20";
                }
            }, 1000);
        }

        function speak(text) {
            const m = new SpeechSynthesisUtterance(text);
            m.lang = 'it-IT';
            window.speechSynthesis.speak(m);
        }
    </script>
</body>
</html>

